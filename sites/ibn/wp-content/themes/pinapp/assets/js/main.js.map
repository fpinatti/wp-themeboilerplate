{"version":3,"sources":["main.js"],"names":["document","addEventListener","btnKnowMoreChurch","querySelector","onClickKnowMore","hiddenSections","querySelectorAll","idx","length","classList","add","ministryGrid","setAttribute","getAttribute","latVideoWrapper","myRequest","Request","fetch","then","response","json","videoId","items","id","innerHTML","pageHash","window","location","hash","history","pushState","setTimeout","substr","dispatchEvent","MouseEvent","onClickMenuItem","evt","tSection","target","targetSection","preventDefault","scrollTo","top","getBoundingClientRect","pageYOffset","behavior","mainHeader","remove","menuItems","sections","menuLinkElement","menuItemUrl","urlSplit","split","sectionName","replace","push","btnSandwich","toggle","observer","IntersectionObserver","entries","forEach","entry","activateMenuItem","isIntersecting","item","section","observe","img","pictureElement","createElement","source1Element","source2Element","imgElement","src","className","parentNode","toString","srcset","media","getLargeImg","filename","substring","lastIndexOf","pathname","alt","appendChild","replaceWith"],"mappings":"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","file":"main.js","sourceRoot":"..\\..\\assets-src\\js","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n\n\t//HOME\n\tvar btnKnowMoreChurch = document.querySelector('.btn-know-more-church a');\n\tonClickKnowMore = function () {\n\t\tvar hiddenSections = document.querySelectorAll('.know-more-section');\n\t\tfor (let idx = 0; idx < hiddenSections.length; ++idx) {\n\t\t\thiddenSections[idx].classList.add('d-block');\n\t\t}\n\t};\n\tif (btnKnowMoreChurch) {\n\t\tbtnKnowMoreChurch.addEventListener('click', onClickKnowMore);\n\t}\n\n\t//GALLERY\n\tvar ministryGrid = document.querySelectorAll('.ministry-grid a');\n\tfor (let idx = 0; idx < ministryGrid.length; ++idx) {\n\t\tministryGrid[idx].setAttribute('data-toggle', 'modal');\n\t\tministryGrid[idx].setAttribute('data-target', ministryGrid[idx].getAttribute('href'));\n\t}\n\n\t//latest video\n\tvar latVideoWrapper = document.querySelector('.latestVideo');\n\tvar myRequest = new Request('https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=UC6kD6-RCkdyeotrh6dMDW3Q&maxResults=1&order=date&type=video&key=AIzaSyCwUFQ5c-XkVxT5daJwrVohk4h6pCjUgdA');\n\tfetch(myRequest)\n\t\t.then(response => response.json())\n\t\t.then(json => {\n\t\t\tvar videoId = json.items[0].id.videoId;\n\t\t\tlatVideoWrapper.innerHTML = `<iframe width=\"100%\" height=\"315\" \n\t\t\tsrc=\"https://www.youtube-nocookie.com/embed/${videoId}\" \n\t\t\tframeborder=\"0\" allow=\"accelerometer; \n\t\t\tautoplay; clipboard-write; encrypted-media; \n\t\t\tgyroscope; picture-in-picture\" \n\t\t\tallowfullscreen></iframe>`;\n\n\t\t});\n\n\tvar pageHash = window.location.hash;\n\tif (pageHash) {\n\t\thistory.pushState(null, null, ' ');\n\t\tsetTimeout(function () {\n\t\t\tpageHash = pageHash.substr(1);\n\t\t\tvar element = document.querySelector('[data-section=\"' + pageHash + '\"]');\n\t\t\telement.dispatchEvent(new MouseEvent('click'));\n\t\t}, 2000);\n\t}\n\n\t//MENU\n\tvar onClickMenuItem = function (evt) {\n\t\tvar tSection = evt.target.getAttribute('data-section');\n\t\tvar targetSection = document.querySelector('#' + tSection);\n\t\tif (targetSection) {\n\t\t\tevt.preventDefault();\n\t\t\tif (tSection === 'ministerios') {\n\t\t\t\tbtnKnowMoreChurch.dispatchEvent(new MouseEvent('click'));\n\t\t\t}\n\n\t\t\twindow.scrollTo({\n\t\t\t\ttop: targetSection.getBoundingClientRect().top + window.pageYOffset - 170,\n\t\t\t\tbehavior: 'smooth'\n\t\t\t});\n\t\t\t// targetSection.scrollIntoView({\n\t\t\t// \tinline: 'nearest',\n\t\t\t// \tblock: 'start',\n\t\t\t// \tbehavior: 'smooth'\n\t\t\t// });\n\t\t\tmainHeader.classList.remove('open');\n\t\t}\n\t};\n\n\tvar menuItems = document.querySelectorAll('.top-main-nav .menu-item');\n\tvar sections = [];\n\n\tfor (let idx = 0; idx < menuItems.length; ++idx) {\n\t\tlet menuLinkElement = menuItems[idx].querySelector('a');\n\t\tlet menuItemUrl = menuLinkElement.getAttribute('href');\n\t\tlet urlSplit = menuItemUrl.split('/');\n\t\tlet sectionName = urlSplit[urlSplit.length - 2];\n\t\tif (sectionName !== 'estudos') {\n\t\t\tmenuItemUrl = menuItemUrl.replace(sectionName + '/', '#' + sectionName);\n\t\t\tmenuLinkElement.setAttribute('data-section', sectionName);\n\t\t\tsections.push('#' + sectionName);\n\t\t\tmenuLinkElement.setAttribute('href', menuItemUrl);\n\t\t\tmenuLinkElement.addEventListener('click', onClickMenuItem);\n\t\t}\n\t}\n\tconst btnSandwich = document.querySelector('.sandwich-icon');\n\tconst mainHeader = document.querySelector('.main-header');\n\tconst toggleMenu = () => {\n\n\t\tmainHeader.classList.toggle('open');\n\t};\n\n\tbtnSandwich.addEventListener('click', toggleMenu);\n\n\t// detect active sections\n\tlet observer = new IntersectionObserver((entries, observer) => {\n\t\tentries.forEach(entry => {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tactivateMenuItem(entry.target.id);\n\t\t\t}\n\t\t});\n\t});\n\tdocument.querySelectorAll(sections).forEach(section => {\n\t\tobserver.observe(section);\n\t});\n\n\t//\n\tfunction activateMenuItem(id) {\n\t\tdocument.querySelectorAll('.menu-item').forEach(item => {\n\t\t\titem.classList.remove('current-menu-item');\n\t\t\tif (id && id === item.querySelector('a').getAttribute('data-section')) {\n\t\t\t\titem.classList.add('current-menu-item');\n\t\t\t}\n\t\t});\n\t};\n\n\n\t//replace all figures with picture\n\tconst figures = document.querySelectorAll('figure.responsive img');\n\tfigures.forEach(img => {\n\t\tconst pictureElement = document.createElement('picture');\n\t\tconst source1Element = document.createElement('source');\n\t\tconst source2Element = document.createElement('source');\n\t\tconst imgElement = document.createElement('img');\n\t\tconst src = img.getAttribute('src');\n\t\tpictureElement.className = img.parentNode.classList.toString();\n\t\tsource1Element.srcset = src;\n\t\tsource1Element.media = '(max-width: 767px)';\n\t\tsource2Element.srcset = getLargeImg(src);\n\t\tsource2Element.media = '(min-width: 768px)';\n\t\timgElement.src = src;\n\t\timgElement.alt = img.getAttribute('alt');\n\t\tpictureElement.appendChild(source1Element);\n\t\tpictureElement.appendChild(source2Element);\n\t\tpictureElement.appendChild(imgElement);\n\t\timg.parentNode.replaceWith(pictureElement);\n\t});\n\n\tfunction getLargeImg(src) {\n\t\tlet filename = src.substring(src.lastIndexOf('/')+1);\n\t\tlet pathname = src.substring(0,src.lastIndexOf('/'));\n\t\tfilename = filename.split('.');\n\t\tfilename = filename[0] + '-md.' + filename[1];\n\t\treturn pathname + '/' + filename;\n\t}\n\n\n});"]}